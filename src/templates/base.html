<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>{% block title %}Admin{% endblock %}</title>
  <link rel="icon" type="image/svg+xml" href="/static/favicon.svg" />
  <link rel="shortcut icon" href="/static/favicon.svg" />
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;500;600&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="/static/style.css">
  <style>
    :root {
      /* Default to LIGHT theme with softer feminine palette */
      --bg-1: #fff7fb; /* blush 50 */
      --bg-2: #fdf2f8; /* pink 50 */
      --panel: rgba(255, 255, 255, 0.8);
      --panel-border: rgba(0, 0, 0, 0.06);
      --text: #0f172a; /* slate-900 */
      --text-muted: #475569; /* slate-600 */
      --primary: #ec4899; /* pink-500 */
      --primary-2: #f9a8d4; /* pink-300 */
      --success: #10b981; /* emerald-500 */
      --danger: #ef4444; /* red-500 */
      --warning: #f59e0b; /* amber-500 */
      --radius: 16px;
      --shadow-1: 0 10px 30px rgba(0,0,0,.28);
      --shadow-2: 0 6px 20px rgba(236, 72, 153, .35);
      /* Alerts (light) */
      --alert-bg: rgba(16, 185, 129, 0.12);
      --alert-border: rgba(16, 185, 129, 0.45);
      --alert-text: #065f46; /* emerald-800 */
    }

    /* Light theme */
    @media (prefers-color-scheme: light) {
      :root {
        --bg-1: #fff7fb; /* blush 50 */
        --bg-2: #fdf2f8; /* pink 50 */
        --panel: rgba(255, 255, 255, 0.8);
        --panel-border: rgba(0, 0, 0, 0.06);
        --text: #0f172a; /* slate-900 */
        --text-muted: #475569; /* slate-600 */
      }
    }

    /* Force dark when toggled */
    html[data-theme="dark"] {
      --bg-1: #0f172a;
      --bg-2: #111827;
      --panel: rgba(17, 24, 39, 0.6);
      --panel-border: rgba(255, 255, 255, 0.08);
      --text: #e5e7eb;
      --text-muted: #9ca3af;
      /* Alerts (dark) */
      --alert-bg: rgba(16, 185, 129, 0.16);
      --alert-border: rgba(16, 185, 129, 0.55);
      --alert-text: #d1fae5; /* emerald-100 */
    }

    /* Force light when toggled */
    html[data-theme="light"] {
      --bg-1: #fff7fb; /* blush 50 */
      --bg-2: #fdf2f8; /* pink 50 */
      --panel: rgba(255, 255, 255, 0.8);
      --panel-border: rgba(0, 0, 0, 0.06);
      --text: #0f172a; /* slate-900 */
      --text-muted: #475569; /* slate-600 */
      /* Alerts (light) */
      --alert-bg: rgba(16, 185, 129, 0.12);
      --alert-border: rgba(16, 185, 129, 0.45);
      --alert-text: #065f46; /* emerald-800 */
    }

    html, body { height: 100%; }
    body {
      font-family: Poppins, Inter, system-ui, -apple-system, Segoe UI, Roboto, Ubuntu, Cantarell, "Helvetica Neue", Arial, "Noto Sans", "Apple Color Emoji", "Segoe UI Emoji";
      margin: 0; color: var(--text);
      background: radial-gradient(1200px 600px at 0% -10%, rgba(236,72,153,.22), transparent 60%),
                  radial-gradient(1000px 600px at 100% 10%, rgba(167,139,250,.18), transparent 60%),
                  linear-gradient(180deg, var(--bg-1), var(--bg-2));
      -webkit-font-smoothing: antialiased; -moz-osx-font-smoothing: grayscale;
    }

    .container { max-width: 1200px; padding: 24px; margin: 0 auto; }

    /* Navbar */
    .navbar {
      position: sticky; top: 0; z-index: 1000;
      backdrop-filter: saturate(160%) blur(10px);
      background: linear-gradient(180deg, rgba(17,24,39,.85), rgba(17,24,39,.65));
      border-bottom: 1px solid var(--panel-border);
      box-shadow: var(--shadow-1);
    }
    .nav-inner { display: flex; align-items: center; gap: 16px; justify-content: space-between; max-width: 1200px; margin: 0 auto; padding: 14px 24px; }
    .brand { color: white; text-decoration: none; font-weight: 700; letter-spacing: .2px; display: inline-flex; align-items: center; gap: 10px; }
    .brand::after { content: ""; display: inline-block; width: 8px; height: 8px; border-radius: 999px; background: linear-gradient(135deg, var(--primary), var(--primary-2)); box-shadow: 0 0 18px rgba(124,58,237,.8); }
    .nav a { color: rgba(255,255,255,0.92); text-decoration: none; padding: 8px 12px; border-radius: 10px; opacity: .95; }
    .nav a:hover { background: rgba(255,255,255,.12); opacity: 1; }
    .nav { display: flex; flex-wrap: wrap; gap: 6px; }

    /* Improve contrast of outline buttons in dark navbar */
    .navbar .button.outline { color: #fff; border-color: rgba(255,255,255,0.35); background: rgba(255,255,255,0.06); }
    .navbar .button.outline:hover { background: rgba(255,255,255,0.12); }

    /* Panels */
    .card {
      background: var(--panel);
      border: 1px solid var(--panel-border);
      border-radius: var(--radius);
      padding: 20px;
      margin: 20px 0;
      box-shadow: var(--shadow-1);
    }

    /* Headings */
    h1, h2, h3, h4 { margin: 0 0 12px; line-height: 1.2; }
    h1 { font-size: 1.8rem; }
    h2 { font-size: 1.3rem; color: var(--text-muted); font-weight: 600; }

    /* Buttons */
    .button { display: inline-flex; align-items: center; justify-content: center; gap: 8px; padding: 10px 16px; margin: 6px; border-radius: 12px; border: 1px solid transparent; color: white; text-decoration: none; cursor: pointer; background: linear-gradient(135deg, var(--primary), var(--primary-2)); box-shadow: var(--shadow-2); transition: transform .12s ease, box-shadow .2s ease, filter .2s ease; }
    .button:hover { transform: translateY(-1px); filter: brightness(1.05); }
    .button:active { transform: translateY(0); filter: brightness(.98); }
    .button.success { background: linear-gradient(135deg, var(--success), #34d399); box-shadow: 0 8px 18px rgba(16,185,129,.35); }
    .button.danger { background: linear-gradient(135deg, var(--danger), #f87171); box-shadow: 0 8px 18px rgba(239,68,68,.35); }
    .button.outline { background: transparent; color: var(--text); border: 1px solid var(--panel-border); box-shadow: none; }
    .button.outline:hover { background: rgba(255,255,255,.06); }

    /* Alerts */
    .alert { background: var(--alert-bg); border: 1px solid var(--alert-border); color: var(--alert-text); padding: 12px 14px; margin: 10px 0; border-radius: 12px; font-weight: 600; }
    .alert a:not(.button) { color: inherit; text-decoration: underline; font-weight: 700; }

    /* Status badges */
    .badge { display: inline-block; padding: 4px 10px; border-radius: 999px; font-size: .85rem; font-weight: 600; }
    .status-green { color: #22c55e; }
    .status-orange { color: #f59e0b; }

    /* Tables */
    table { width: 100%; border-collapse: collapse; overflow: hidden; border-radius: 12px; }
    th, td { padding: 10px 12px; text-align: left; border-bottom: 1px solid var(--panel-border); }
    th { background: rgba(255,255,255,.06); color: var(--text-muted); font-weight: 600; }
    tr:hover td { background: rgba(255,255,255,.03); }

    /* Forms */
    .form-group { margin: 16px 0; }
    label { font-weight: 600; display: block; margin-bottom: 6px; color: var(--text-muted); }
    input, textarea, select { width: 100%; padding: 10px 12px; margin: 4px 0; border: 1px solid var(--panel-border); border-radius: 12px; font: inherit; color: var(--text); background: rgba(255,255,255,.06); outline: none; transition: box-shadow .2s ease, border-color .2s ease, background .2s ease; }
    input:focus, textarea:focus, select:focus { border-color: rgba(236,72,153,.6); box-shadow: 0 0 0 4px rgba(236,72,153,.18); background: rgba(255,255,255,.1); }
    textarea { resize: vertical; }

    /* Event items */
    .event-item { border: 1px solid var(--panel-border); border-radius: var(--radius); padding: 16px; margin: 12px 0; background: rgba(255,255,255,.04); box-shadow: var(--shadow-1); }

    /* Footer */
    footer { color: var(--text-muted); padding: 24px; text-align: center; }

    /* Utility */
    .muted { color: var(--text-muted); }
  </style>
</head>
<body>
  <header class="navbar">
    <div class="nav-inner">
      <a class="brand" href="/">ðŸŽ¬ gantich-chat-bot</a>
      <nav class="nav">
        <a href="/" title="Overview and quick actions">Dashboard</a>
        <a href="/events" title="Create, edit, and delete events">Events</a>
        <a href="/locations" title="Manage event locations">Locations</a>
        <a href="/quiz" title="Configure quiz questions and answers">Quiz</a>
        <a href="/bookings" title="Review and manage user bookings">Bookings</a>
        <a href="/schedule" title="Configure recurrent schedule for bookings">Schedule</a>
        <a href="/i18n" title="Edit texts and translations">Translations</a>
        <a href="/about" title="Edit About page and contacts">About</a>
      </nav>
      <button id="themeToggle" class="button outline" title="Toggle theme" aria-label="Toggle theme">ðŸŒ“</button>
    </div>
  </header>
  <main class="container">
    {% block content %}{% endblock %}
  </main>
  <footer>
    <div class="container muted">Admin Panel â€¢ Powered by FastAPI Â· Jinja2</div>
  </footer>
  <script>
    (function() {
      try {
        const key = 'admin-theme';
        const root = document.documentElement;
        const current = localStorage.getItem(key);
        if (current === 'dark') {
          root.setAttribute('data-theme', 'dark');
        } else if (current === 'light') {
          root.setAttribute('data-theme', 'light');
        } else {
          // Default to light
          root.setAttribute('data-theme', 'light');
          localStorage.setItem(key, 'light');
        }
        const btn = document.getElementById('themeToggle');
        if (btn) {
          btn.title = (root.getAttribute('data-theme') === 'dark') ? 'Switch to light theme' : 'Switch to dark theme';
          btn.addEventListener('click', function() {
            const isDark = root.getAttribute('data-theme') === 'dark';
            if (isDark) {
              root.setAttribute('data-theme', 'light');
              localStorage.setItem(key, 'light');
              btn.title = 'Switch to dark theme';
            } else {
              root.setAttribute('data-theme', 'dark');
              localStorage.setItem(key, 'dark');
              btn.title = 'Switch to light theme';
            }
          });
        }
      } catch(e) { /* ignore */ }
    })();
  </script>
</body>
</html>
