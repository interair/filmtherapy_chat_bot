<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>{% block title %}Admin{% endblock %} | gantich</title>
  <link rel="icon" type="image/svg+xml" href="/static/favicon.svg" />
  <link rel="shortcut icon" href="/static/favicon.svg" />
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Plus+Jakarta+Sans:wght@400;500;600;700&family=Inter:wght@400;500;600&display=swap" rel="stylesheet">
  <script src="https://cdn.tailwindcss.com"></script>
  <script src="https://unpkg.com/lucide@latest"></script>
  <script>
    // Custom configuration to extend Tailwind
    tailwind.config = {
      darkMode: 'class',
      theme: {
        extend: {
          colors: {
            primary: {
              50: '#fff1f2',
              100: '#ffe4e6',
              200: '#fecdd3',
              300: '#fda4af',
              400: '#fb7185',
              500: '#f43f5e',
              600: '#e11d48',
              700: '#be123c',
              800: '#9f1239',
              900: '#881337',
              950: '#4c0519',
            },
          },
          fontFamily: {
            sans: ['Plus Jakarta Sans', 'Inter', 'system-ui', 'sans-serif'],
          },
        },
      },
    }
  </script>
  <style type="text/tailwindcss">
    @layer base {
      body {
        @apply bg-[#fff7fb] text-slate-900 transition-colors duration-300;
      }
      .dark body {
        @apply bg-[#0f172a] text-slate-200;
      }
    }

    @layer components {
      .glass {
        @apply backdrop-blur-md border border-white/20;
      }
      .card {
        @apply bg-white dark:bg-slate-800/50 rounded-2xl border border-slate-200/60 dark:border-slate-700/50 shadow-sm hover:shadow-md transition-all duration-300 overflow-hidden;
      }
      .nav-link {
        @apply flex items-center gap-2 px-4 py-2 rounded-xl text-slate-600 dark:text-slate-400 hover:bg-primary-50 dark:hover:bg-primary-900/20 hover:text-primary-600 dark:hover:text-primary-400 transition-all duration-200 text-sm font-medium;
      }
      .nav-link.active {
        @apply bg-primary-100 dark:bg-primary-900/30 text-primary-700 dark:text-primary-300;
      }
      .btn {
        @apply inline-flex items-center justify-center gap-2 px-5 py-2.5 rounded-xl font-semibold transition-all duration-200 active:scale-95 disabled:opacity-50 disabled:pointer-events-none text-sm;
      }
      .btn-primary {
        @apply bg-primary-600 hover:bg-primary-700 text-white shadow-lg shadow-primary-500/25;
      }
      .btn-secondary {
        @apply bg-white dark:bg-slate-800 border border-slate-200 dark:border-slate-700 text-slate-700 dark:text-slate-200 hover:bg-slate-50 dark:hover:bg-slate-700/50;
      }
      .btn-danger {
        @apply bg-rose-500 hover:bg-rose-600 text-white shadow-lg shadow-rose-500/25;
      }
      .input-field {
        @apply w-full px-4 py-2.5 rounded-xl bg-white dark:bg-slate-900 border border-slate-200 dark:border-slate-700 focus:ring-2 focus:ring-primary-500/20 focus:border-primary-500 outline-none transition-all duration-200 text-sm;
      }
      .badge {
        @apply inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-semibold;
      }
    }
  </style>
</head>
<body class="min-h-screen flex flex-col font-sans">
  <!-- Navbar -->
  <header class="sticky top-0 z-50 glass bg-white/70 dark:bg-slate-900/70 border-b border-slate-200/60 dark:border-slate-800/60">
    <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
      <div class="flex justify-between items-center h-16">
        <div class="flex items-center gap-8">
          <a href="/" class="flex items-center gap-2 group">
            <div class="w-10 h-10 bg-gradient-to-tr from-primary-600 to-rose-400 rounded-xl flex items-center justify-center shadow-lg shadow-primary-500/20 group-hover:scale-105 transition-transform duration-200">
              <i data-lucide="bot" class="text-white w-6 h-6"></i>
            </div>
            <span class="text-xl font-bold bg-clip-text text-transparent bg-gradient-to-r from-slate-900 to-slate-700 dark:from-white dark:to-slate-300">gantich</span>
          </a>
          
          <nav class="hidden md:flex items-center gap-1">
            <a href="/" class="nav-link {% if request.url.path == '/' %}active{% endif %}">
              <i data-lucide="layout-dashboard" class="w-4 h-4"></i> Dashboard
            </a>
            <a href="/events" class="nav-link {% if request.url.path.startswith('/events') %}active{% endif %}">
              <i data-lucide="calendar" class="w-4 h-4"></i> Events
            </a>
            <a href="/bookings" class="nav-link {% if request.url.path.startswith('/bookings') %}active{% endif %}">
              <i data-lucide="clipboard-list" class="w-4 h-4"></i> Bookings
            </a>
            <a href="/locations" class="nav-link {% if request.url.path.startswith('/locations') %}active{% endif %}">
              <i data-lucide="map-pin" class="w-4 h-4"></i> Locations
            </a>
            <a href="/schedule" class="nav-link {% if request.url.path.startswith('/schedule') %}active{% endif %}">
              <i data-lucide="clock" class="w-4 h-4"></i> Schedule
            </a>
            <a href="/quiz" class="nav-link {% if request.url.path.startswith('/quiz') %}active{% endif %}">
              <i data-lucide="help-circle" class="w-4 h-4"></i> Quiz
            </a>
            <a href="/i18n" class="nav-link {% if request.url.path.startswith('/i18n') %}active{% endif %}">
              <i data-lucide="languages" class="w-4 h-4"></i> Translations
            </a>
            <a href="/about" class="nav-link {% if request.url.path.startswith('/about') %}active{% endif %}">
              <i data-lucide="info" class="w-4 h-4"></i> About
            </a>
          </nav>
        </div>

        <div class="flex items-center gap-3">
          <a href="/metrics" class="p-2.5 rounded-xl hover:bg-slate-100 dark:hover:bg-slate-800 text-slate-500 dark:text-slate-400 transition-colors duration-200" title="Metrics">
            <i data-lucide="bar-chart-2" class="w-5 h-5"></i>
          </a>
          <a href="/system" class="p-2.5 rounded-xl hover:bg-slate-100 dark:hover:bg-slate-800 text-slate-500 dark:text-slate-400 transition-colors duration-200" title="System">
            <i data-lucide="settings" class="w-5 h-5"></i>
          </a>
          <button id="themeToggle" class="p-2.5 rounded-xl hover:bg-slate-100 dark:hover:bg-slate-800 text-slate-500 dark:text-slate-400 transition-colors duration-200" aria-label="Toggle theme">
            <i data-lucide="moon" class="w-5 h-5 dark:hidden"></i>
            <i data-lucide="sun" class="w-5 h-5 hidden dark:block"></i>
          </button>
          
          <!-- Mobile Menu Toggle -->
          <button id="mobileMenuToggle" class="md:hidden p-2.5 rounded-xl hover:bg-slate-100 dark:hover:bg-slate-800 text-slate-500 dark:text-slate-400 transition-colors duration-200">
            <i data-lucide="menu" class="w-6 h-6"></i>
          </button>
        </div>
      </div>
    </div>
    
    <!-- Mobile Navigation -->
    <div id="mobileMenu" class="hidden md:hidden border-t border-slate-200 dark:border-slate-800 bg-white dark:bg-slate-900 p-4">
      <nav class="flex flex-col gap-2">
        <a href="/" class="nav-link {% if request.url.path == '/' %}active{% endif %}">
          <i data-lucide="layout-dashboard" class="w-4 h-4"></i> Dashboard
        </a>
        <a href="/events" class="nav-link {% if request.url.path.startswith('/events') %}active{% endif %}">
          <i data-lucide="calendar" class="w-4 h-4"></i> Events
        </a>
        <a href="/locations" class="nav-link {% if request.url.path.startswith('/locations') %}active{% endif %}">
          <i data-lucide="map-pin" class="w-4 h-4"></i> Locations
        </a>
        <a href="/quiz" class="nav-link {% if request.url.path.startswith('/quiz') %}active{% endif %}">
          <i data-lucide="help-circle" class="w-4 h-4"></i> Quiz
        </a>
        <a href="/bookings" class="nav-link {% if request.url.path.startswith('/bookings') %}active{% endif %}">
          <i data-lucide="clipboard-list" class="w-4 h-4"></i> Bookings
        </a>
        <a href="/schedule" class="nav-link {% if request.url.path.startswith('/schedule') %}active{% endif %}">
          <i data-lucide="clock" class="w-4 h-4"></i> Schedule
        </a>
        <a href="/i18n" class="nav-link {% if request.url.path.startswith('/i18n') %}active{% endif %}">
          <i data-lucide="languages" class="w-4 h-4"></i> Translations
        </a>
        <a href="/about" class="nav-link {% if request.url.path.startswith('/about') %}active{% endif %}">
          <i data-lucide="info" class="w-4 h-4"></i> About
        </a>
        <a href="/metrics" class="nav-link {% if request.url.path.startswith('/metrics') %}active{% endif %}">
          <i data-lucide="bar-chart-2" class="w-4 h-4"></i> Metrics
        </a>
        <a href="/system" class="nav-link {% if request.url.path.startswith('/system') %}active{% endif %}">
          <i data-lucide="settings" class="w-4 h-4"></i> System
        </a>
      </nav>
    </div>
  </header>

  <main class="flex-grow container max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8">
    {% block content %}{% endblock %}
  </main>

  <footer class="border-t border-slate-200 dark:border-slate-800 py-8 bg-white/50 dark:bg-slate-900/50 mt-auto">
    <div class="max-w-7xl mx-auto px-4 text-center">
      <p class="text-sm text-slate-500 dark:text-slate-400">
        gantich admin panel &bull; powered by FastAPI & Jinja2
      </p>
    </div>
  </footer>

  <script>
    // Theme logic
    (function() {
      const theme = localStorage.getItem('admin-theme') || 'light';
      if (theme === 'dark') document.documentElement.classList.add('dark');
      
      const toggle = document.getElementById('themeToggle');
      toggle.addEventListener('click', () => {
        const isDark = document.documentElement.classList.toggle('dark');
        localStorage.setItem('admin-theme', isDark ? 'dark' : 'light');
      });

      // Mobile menu logic
      const menuBtn = document.getElementById('mobileMenuToggle');
      const menu = document.getElementById('mobileMenu');
      menuBtn.addEventListener('click', () => {
        menu.classList.toggle('hidden');
      });

      // Initialize Lucide icons
      lucide.createIcons();
    })();
  </script>
</body>
</html>
